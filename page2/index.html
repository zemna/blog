<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <meta name="description" content="zemna's Blog gives useful information about software programming.
"/>
  <meta name="google-site-verification" content="reL65cayQoViDWj4gtXqhRy-Je2z7T6i_UDTGaNSV_Q" />
  <meta name="naver-site-verification" content=""/>

  <meta name="msapplication-tap-highlight" content="no"/>

  <!-- Facebook Meta -->
  <meta property="fb:app_id" content="632837843538038" />
  <meta property="og:url" content="https://blog.zemna.net//page2/" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="zemna blog" />
  <meta property="og:description" content="zemna's Blog gives useful information about software programming.
" />
  <meta property="og:image" content="https://blog.zemna.net/assets/img/zemna-logo.png" />

  <!-- Google+ Meta -->
  <meta itemprop="name" content="zemna blog">
  <meta itemprop="description" content="zemna's Blog gives useful information about software programming.
">
  <meta itemprop="image" content="https://blog.zemna.net/assets/img/zemna-logo.png">
  <meta itemprop="author" content="zemna (zemna@zemna.net)"/>

  <!-- Twitter Meta -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@zemna" />
  <meta name="twitter:title" content="zemna blog" />
  <meta name="twitter:description" content="zemna's Blog gives useful information about software programming.
" />
  <meta name="twitter:image" content="https://blog.zemna.net/assets/img/zemna-logo.png" />
  <meta name="twitter:domain" content="blog.zemna.net">

  <!-- Mobile and Rss -->
  <link rel="canonical" href="https://blog.zemna.net/page2/"/>
  <link rel="alternate" type="application/rss+xml" title="zemna blog" href="https://blog.zemna.net/feed.xml"/>

  <!-- Begin MailChimp Signup Form -->
  <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">

  <link rel="stylesheet" href="/assets/css/style.min.css">

  <title>zemna blog</title>

  <link rel="canonical" href="https://blog.zemna.net/page2/">
  <link rel="alternate" type="application/rss+xml" title="zemna blog" href="https://blog.zemna.net/feed.xml">

  <link rel="icon" type="image/x-icon" href="/assets/img/favicon.ico">
  <link rel="apple-touch-icon-precomposed" href="/assets/img/pencil-152-168414.png">
  <meta name="msapplication-TileColor" content="#ffffff" />
  <meta name="msapplication-TileImage" content="/assets/img/pencil-144-168414.png">
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/assets/img/pencil-152-168414.png">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/img/pencil-144-168414.png">
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/assets/img/pencil-120-168414.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/img/pencil-114-168414.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/img/pencil-72-168414.png">
  <link rel="apple-touch-icon-precomposed" href="/assets/img/pencil-57-168414.png">
  <link rel="icon" href="/assets/img/pencil-32-168414.png" sizes="32x32">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body id="app">

  <nav class="navbar navbar-default navbar-static-top" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse"aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">zemna blog</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="navbar-collapse">
      <ul class="nav navbar-nav text-center">
        <li><a href="/categories">Categories</a></li>
        <li><a href="/tags">Tags</a></li>
        <li><a href="https://www.zemna.net">Projects <i class="fa fa-external-link" style="margin-left: 8px;"></i></a></li>
        <li><a href="https://resume.zemna.net">Resume <i class="fa fa-external-link" style="margin-left: 8px;"></i></a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right text-center">
        <li><a href="https://github.com/zemna"><i class="fa fa-lg fa-github"></i> <span class="visible-xs-inline">GitHub</span></a></li>
        <li><a href="https://www.facebook.com/zemnanet"><i class="fa fa-lg fa-facebook"></i> <span class="visible-xs-inline">Facebook</span></a></li>
        <li><a href="https://www.twitter.com/zemna"><i class="fa fa-lg fa-twitter"></i> <span class="visible-xs-inline">Twitter</span></a></li>
        <li><a href="https://plus.google.com/+ShinjaeKang"><i class="fa fa-lg fa-google-plus"></i> <span class="visible-xs-inline">Google+</span></a></li>
        <li><a href="https://id.linkedin.com/in/zemna"><i class="fa fa-lg fa-linkedin"></i> <span class="visible-xs-inline">LinkedIn</span></a></li>
        <li><a href="/feed.xml"><i class="fa fa-lg fa-feed"></i> <span class="visible-xs-inline">Feed</span></a></li>
      </ul>
    </div>
  </div>
</nav>

  <div class="container">
  <div class="row">
    <div class="col-lg-12">
      <!-- blog.zemna.net, index top, responsive -->
      <ins class="adsbygoogle"
           style="display:block; margin-bottom: 20px;"
           data-ad-client="ca-pub-9370920245187676"
           data-ad-slot="5211918411"
           data-ad-format="auto"></ins>
      <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
      </script>    
    </div>
  </div>
  <div class="row">
    <section id="main" class="col-md-9">
      
      <article class="box">
        <div class="box-header">
          <h2>
            <a href="/laravel/use-create-option-when-create-migration/">Use --create option when create migration</a>
          </h2>
          <p class="box-meta text-muted">
            <span>
              <i class="fa fa-calendar"></i>
              2016-07-08
            </span>
            <span>
              <i class="fa fa-folder"></i>
              
                <a href="/categories#laravel">
                  Laravel
                </a>
                
              
            </span>
            <span>
              <i class="fa fa-comments"></i>
              <a href="/laravel/use-create-option-when-create-migration/#disqus_thread" title="comments">0</a>
            </span>
          </p>
        </div>

        <div class="box-body">
          <p>To create migration, we can use this artisan command.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>php artisan make:migration create_companies_table
</code></pre>
</div>

<p>Laravel will create a new migration file in <code class="highlighter-rouge">database/migrations</code> directory.</p>

<p>Generated file is like this:</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Illuminate\Database\Schema\Blueprint</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Migrations\Migration</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">CreateCompaniesTable</span> <span class="k">extends</span> <span class="nx">Migration</span>
<span class="p">{</span>
    <span class="sd">/**
     * Run the migrations.
     *
     * @return void
     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//
</span>    <span class="p">}</span>

    <span class="sd">/**
     * Reverse the migrations.
     *
     * @return void
     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">down</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//
</span>    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">up()</code> method is used to create a new tables or add new columns to table.
<code class="highlighter-rouge">down()</code> method is used to rollback.</p>

<p>We can use <code class="highlighter-rouge">--create</code> option when create migration to automatically generate base code.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>php artisan make:migration create_companies_table --create<span class="o">=</span>companies
</code></pre>
</div>

<p>Generated file is like this:</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Illuminate\Database\Schema\Blueprint</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Migrations\Migration</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">CreateCompaniesTable</span> <span class="k">extends</span> <span class="nx">Migration</span>
<span class="p">{</span>
    <span class="sd">/**
     * Run the migrations.
     *
     * @return void
     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="s1">'companies'</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Blueprint</span> <span class="nv">$table</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">increments</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">timestamps</span><span class="p">();</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="sd">/**
     * Reverse the migrations.
     *
     * @return void
     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">down</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">drop</span><span class="p">(</span><span class="s1">'companies'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

        </div>

        
      </article>
      
      <article class="box">
        <div class="box-header">
          <h2>
            <a href="/jekyll/automated-deploy-with-jekyll-gulp-travis-ci-and-github-pages/">Automated Deploy with Jekyll, Gulp, Travis CI and GitHub Pages</a>
          </h2>
          <p class="box-meta text-muted">
            <span>
              <i class="fa fa-calendar"></i>
              2016-07-07
            </span>
            <span>
              <i class="fa fa-folder"></i>
              
                <a href="/categories#jekyll">
                  Jekyll
                </a>
                
              
            </span>
            <span>
              <i class="fa fa-comments"></i>
              <a href="/jekyll/automated-deploy-with-jekyll-gulp-travis-ci-and-github-pages/#disqus_thread" title="comments">0</a>
            </span>
          </p>
        </div>

        <div class="box-body">
          <h3 id="make-travisyml-file-to-root">1. Make .travis.yml file to root</h3>

<div class="language-yml highlighter-rouge"><pre class="highlight"><code><span class="s">language</span><span class="pi">:</span> <span class="s">node_js</span>

<span class="s">node_js</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s1">'</span><span class="s">4'</span>

<span class="s">cache</span><span class="pi">:</span>
  <span class="s">directories</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">node_modules</span>
  <span class="pi">-</span> <span class="s">_assets/vendor</span>

<span class="s">before_install</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">rvm install 2.2</span>
  <span class="pi">-</span> <span class="s">rvm use 2.2 --fuzzy</span>
  <span class="pi">-</span> <span class="s">export GEMDIR=$(rvm gemdir)</span>

<span class="s">before_script</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">npm install -g gulp</span>
  <span class="pi">-</span> <span class="s">npm install -g bower</span>
  <span class="pi">-</span> <span class="s">gem install jekyll</span>
  <span class="pi">-</span> <span class="s">gem install jekyll-paginate</span>
  <span class="pi">-</span> <span class="s">gem install jekyll-sitemap</span>
  <span class="pi">-</span> <span class="s">gem install jekyll-feed</span>
  <span class="pi">-</span> <span class="s">gem install html-proofer</span>
  <span class="pi">-</span> <span class="s">chmod +x ./build.sh</span>

<span class="c1"># execute this script on each commit</span>
<span class="s">script</span><span class="pi">:</span> <span class="s2">"</span><span class="s">./build.sh"</span>

<span class="c1"># only take into account 'master' branch</span>
<span class="s">branches</span><span class="pi">:</span>
  <span class="s">only</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">master</span>

<span class="s">env</span><span class="pi">:</span>
  <span class="s">global</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">NOKOGIRI_USE_SYSTEM_LIBRARIES=true</span> <span class="c1"># speed up installation of html-proofer</span>

<span class="s">sudo</span><span class="pi">:</span> <span class="s">false</span> <span class="c1"># route your build to the container-based infrastructure for a faster build</span>
</code></pre>
</div>

<h3 id="generate-personal-access-tokens-from-github-website">2. Generate <code class="highlighter-rouge">Personal access tokens</code> from GitHub website</h3>

<ol>
  <li>Click <code class="highlighter-rouge">settings</code> menu</li>
  <li>Click <code class="highlighter-rouge">Personal access tokens</code> menu</li>
  <li>Click <code class="highlighter-rouge">Generate new token</code> button
    <ol>
      <li>Input <code class="highlighter-rouge">Token description</code> like <code class="highlighter-rouge">travis</code></li>
      <li>Check <code class="highlighter-rouge">repo</code> scope</li>
    </ol>
  </li>
</ol>

<p>Copy new token to bellow step.</p>

<h3 id="generate-secure-key-to-travisyml">3. Generate secure key to .travis.yml</h3>

<p>Install Travis CLI.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>gem install travis
</code></pre>
</div>

<p>Use <code class="highlighter-rouge">encrypt</code> command to encrypt data</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>travis encrypt <span class="nv">GH_TOKEN</span><span class="o">=</span>/<span class="k">*</span>Paste new token here<span class="k">*</span>/
</code></pre>
</div>

<p>This command will add secret item to .travis.yml file.</p>

<h3 id="make-gulpfilejs-file-to-root">4. Make <code class="highlighter-rouge">gulpfile.js</code> file to root</h3>

<p>I followed <a href="http://cabirol-florian.com/js/2015/10/16/Gulp-Jekyll-Travis-Github/">this article</a> to generate <code class="highlighter-rouge">gulpfile.js</code>.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'path'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">debug</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp-debug'</span><span class="p">);</span>
<span class="c1">// CSS</span>
<span class="kd">var</span> <span class="nx">sass</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp-ruby-sass'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">cleanCSS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp-clean-css'</span><span class="p">);</span>

<span class="c1">// JS BUILD</span>
<span class="kd">var</span> <span class="nx">concat</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp-concat'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">rename</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp-rename'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">uglify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp-uglify'</span><span class="p">);</span>

<span class="c1">// HTML</span>
<span class="kd">var</span> <span class="nx">htmlmin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp-htmlmin'</span><span class="p">);</span>

<span class="c1">// Browser sync</span>
<span class="kd">var</span> <span class="nx">browserSync</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'browser-sync'</span><span class="p">);</span>

<span class="c1">// Import files</span>
<span class="kd">var</span> <span class="nx">pkg</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./package.json'</span><span class="p">);</span>

<span class="c1">// Images files</span>
<span class="kd">var</span> <span class="nx">imagemin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp-imagemin'</span><span class="p">);</span>

<span class="c1">// Utils</span>
<span class="kd">var</span> <span class="nx">utils</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp-util'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"minimist"</span><span class="p">)(</span><span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
<span class="kd">var</span> <span class="nx">addsrc</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp-add-src'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">spawn</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'child_process'</span><span class="p">).</span><span class="nx">spawn</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">dist</span>              <span class="o">=</span> <span class="s1">'public/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">distAssets</span>        <span class="o">=</span> <span class="s1">'./assets/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">distStylesheets</span>   <span class="o">=</span> <span class="nx">distAssets</span> <span class="o">+</span> <span class="s1">'css/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">distJavascripts</span>   <span class="o">=</span> <span class="nx">distAssets</span> <span class="o">+</span> <span class="s1">'js/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">distImages</span>        <span class="o">=</span> <span class="nx">distAssets</span> <span class="o">+</span> <span class="s1">'img/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">distFont</span>          <span class="o">=</span> <span class="nx">distAssets</span> <span class="o">+</span> <span class="s1">'fonts/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">deploy</span>            <span class="o">=</span> <span class="s1">'public/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">src</span>               <span class="o">=</span> <span class="s1">'./'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">srcStylesheets</span>    <span class="o">=</span> <span class="nx">src</span> <span class="o">+</span> <span class="s1">'_assets/styles/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">srcJavascripts</span>    <span class="o">=</span> <span class="nx">src</span> <span class="o">+</span> <span class="s1">'_assets/scripts/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">srcInclude</span>        <span class="o">=</span> <span class="nx">src</span> <span class="o">+</span> <span class="s1">'_includes/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">srcLayout</span>         <span class="o">=</span> <span class="nx">src</span> <span class="o">+</span> <span class="s1">'_layouts/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">srcImg</span>            <span class="o">=</span> <span class="nx">src</span> <span class="o">+</span> <span class="s1">'_assets/images/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">srcPost</span>           <span class="o">=</span> <span class="nx">src</span> <span class="o">+</span> <span class="s1">'_posts/'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bowerDir</span>          <span class="o">=</span> <span class="nx">src</span> <span class="o">+</span> <span class="s1">'_assets/vendor/'</span><span class="p">;</span>

<span class="c1">// --&gt;</span>
<span class="c1">// Compass &amp; SASS</span>
<span class="c1">// &lt;--</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'compass'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">sass</span><span class="p">(</span><span class="nx">srcStylesheets</span> <span class="o">+</span> <span class="s1">'*.scss'</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">style</span><span class="p">:</span> <span class="s1">'compressed'</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'error'</span><span class="p">,</span> <span class="nx">sass</span><span class="p">.</span><span class="nx">logError</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">debug</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">production</span> <span class="p">?</span> <span class="nx">cleanCSS</span><span class="p">({</span><span class="na">compatibility</span><span class="p">:</span> <span class="s1">'ie8'</span><span class="p">})</span> <span class="p">:</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">noop</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">concat</span><span class="p">(</span><span class="s1">'style.min.css'</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="nx">distStylesheets</span><span class="p">));</span>
<span class="p">});</span>

<span class="c1">// --&gt;</span>
<span class="c1">// HTML</span>
<span class="c1">// &lt;--</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'html'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'jekyll'</span><span class="p">],</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// --&gt; Minhtml</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span>
        <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">deploy</span><span class="p">,</span> <span class="s1">'*.html'</span><span class="p">),</span>
        <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">deploy</span><span class="p">,</span> <span class="s1">'*/*/*.html'</span><span class="p">),</span>
        <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">deploy</span><span class="p">,</span> <span class="s1">'*/*/*/*.html'</span><span class="p">)</span>
    <span class="p">])</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">production</span> <span class="p">?</span> <span class="nx">htmlmin</span><span class="p">({</span><span class="na">collapseWhitespace</span><span class="p">:</span> <span class="kc">true</span><span class="p">})</span> <span class="p">:</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">noop</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="nx">deploy</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span> <span class="nx">options</span><span class="p">.</span><span class="nx">production</span> <span class="p">?</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">noop</span><span class="p">()</span> <span class="p">:</span> <span class="nx">browserSync</span><span class="p">.</span><span class="nx">reload</span><span class="p">({</span><span class="na">stream</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span> <span class="na">once</span><span class="p">:</span> <span class="kc">true</span><span class="p">})</span> <span class="p">);</span>
<span class="p">});</span>

<span class="c1">// --&gt;</span>
<span class="c1">// Browser Sync</span>
<span class="c1">// &lt;--</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'browser-sync'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">browserSync</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">server</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">baseDir</span><span class="p">:</span> <span class="s2">"./"</span> <span class="o">+</span> <span class="nx">deploy</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">});</span>

<span class="c1">// Reload all Browsers</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'bs-reload'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">browserSync</span><span class="p">.</span><span class="nx">reload</span><span class="p">();</span>
<span class="p">});</span>

<span class="c1">// --&gt;</span>
<span class="c1">// js</span>
<span class="c1">// Concatenate &amp; JS build</span>
<span class="c1">// &lt;--</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'js-modernizr'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="nx">bowerDir</span> <span class="o">+</span> <span class="s1">'modernizr/dist/modernizr-build.js'</span><span class="p">])</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">concat</span><span class="p">(</span><span class="s1">'modernizr.js'</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="nx">distJavascripts</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">(</span><span class="s1">'modernizr.min.js'</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">production</span> <span class="p">?</span> <span class="nx">uglify</span><span class="p">()</span> <span class="p">:</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">noop</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="nx">distJavascripts</span><span class="p">));</span>
<span class="p">});</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'js'</span><span class="p">,[</span><span class="s1">'js-modernizr'</span><span class="p">],</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span>
        <span class="nx">bowerDir</span> <span class="o">+</span> <span class="s1">'fastclick/lib/fastclick.js'</span><span class="p">,</span>
        <span class="nx">bowerDir</span> <span class="o">+</span> <span class="s1">'jquery/dist/jquery.min.js'</span><span class="p">,</span>
        <span class="nx">bowerDir</span> <span class="o">+</span> <span class="s1">'simple-jekyll-search/dest/jekyll-search.js'</span><span class="p">,</span>
        <span class="nx">bowerDir</span> <span class="o">+</span> <span class="s1">'bootstrap-sass/assets/javascripts/bootstrap.js'</span><span class="p">,</span>
        <span class="nx">bowerDir</span> <span class="o">+</span> <span class="s1">'ekko-lightbox/dist/ekko-lightbox.js'</span><span class="p">,</span>
        <span class="nx">bowerDir</span> <span class="o">+</span> <span class="s1">'moment/moment.js'</span><span class="p">,</span>
        <span class="nx">srcJavascripts</span> <span class="o">+</span> <span class="s1">'modules/*.js'</span><span class="p">,</span>
        <span class="nx">srcJavascripts</span> <span class="o">+</span> <span class="s1">'pages/*.js'</span><span class="p">,</span>
        <span class="nx">srcJavascripts</span> <span class="o">+</span> <span class="s1">'blog.js'</span><span class="p">])</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">concat</span><span class="p">(</span><span class="nx">pkg</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">'.min.js'</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">production</span> <span class="p">?</span> <span class="nx">uglify</span><span class="p">()</span> <span class="p">:</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">noop</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="nx">distJavascripts</span><span class="p">));</span>
<span class="p">});</span>

<span class="c1">// --&gt;</span>
<span class="c1">// JEKYLL task</span>
<span class="c1">// &lt;--</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'jekyll'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'images'</span><span class="p">,</span> <span class="s1">'js'</span><span class="p">,</span> <span class="s1">'compass'</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">gulpCallBack</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">jekyllCmd</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">platform</span> <span class="o">===</span> <span class="s2">"win32"</span> <span class="p">?</span> <span class="s2">"jekyll.bat"</span> <span class="p">:</span> <span class="s2">"jekyll"</span><span class="p">;</span>
    <span class="c1">// After build: cleanup HTML</span>
    <span class="kd">var</span> <span class="nx">jekyll</span> <span class="o">=</span> <span class="nx">spawn</span><span class="p">(</span><span class="nx">jekyllCmd</span><span class="p">,</span> <span class="p">[</span><span class="s1">'build'</span><span class="p">],</span> <span class="p">{</span><span class="na">stdio</span><span class="p">:</span> <span class="s1">'inherit'</span><span class="p">});</span>

    <span class="nx">jekyll</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'exit'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">code</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">gulpCallBack</span><span class="p">(</span><span class="nx">code</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">?</span> <span class="kc">null</span> <span class="p">:</span> <span class="s1">'ERROR: Jekyll process exited with code: '</span><span class="o">+</span><span class="nx">code</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>

<span class="c1">// --&gt;</span>
<span class="c1">// Icons task</span>
<span class="c1">// &lt;--</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'icons'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="nx">bowerDir</span> <span class="o">+</span> <span class="s1">'font-awesome/fonts/**.*'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="nx">distFont</span><span class="p">));</span>
<span class="p">});</span>

<span class="c1">// --&gt;</span>
<span class="c1">// Images task</span>
<span class="c1">// &lt;--</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'images'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="nx">srcImg</span> <span class="o">+</span> <span class="s1">'**'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">production</span> <span class="p">?</span> <span class="nx">imagemin</span><span class="p">({</span>
            <span class="na">progressive</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="na">optimizationLevel</span> <span class="p">:</span> <span class="mi">3</span>
        <span class="p">})</span> <span class="p">:</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">noop</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="nx">distImages</span><span class="p">));</span>
<span class="p">});</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'generate'</span><span class="p">,[</span><span class="s1">'compass'</span><span class="p">,</span> <span class="s1">'js'</span><span class="p">,</span> <span class="s1">'icons'</span><span class="p">,</span> <span class="s1">'images'</span><span class="p">,</span> <span class="s1">'html'</span><span class="p">]);</span>

<span class="c1">// --&gt;</span>
<span class="c1">// Default task</span>
<span class="c1">// &lt;--</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'default'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'compass'</span><span class="p">,</span> <span class="s1">'js'</span><span class="p">,</span> <span class="s1">'icons'</span><span class="p">,</span> <span class="s1">'images'</span><span class="p">,</span> <span class="s1">'html'</span><span class="p">,</span> <span class="s1">'browser-sync'</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// --&gt; CSS</span>
    <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="nx">srcStylesheets</span><span class="o">+</span><span class="s2">"**"</span><span class="p">,</span> <span class="p">[</span><span class="s1">'html'</span><span class="p">]);</span>
    <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">([</span>
        <span class="nx">srcInclude</span> <span class="o">+</span> <span class="s1">'*.html'</span><span class="p">,</span>
        <span class="nx">srcLayout</span> <span class="o">+</span> <span class="s1">'*.html'</span><span class="p">,</span>
        <span class="nx">srcPost</span> <span class="o">+</span> <span class="s1">'**'</span><span class="p">,</span>
        <span class="nx">src</span> <span class="o">+</span> <span class="s1">'*.{md,html}'</span>
    <span class="p">],</span> <span class="p">[</span><span class="s1">'html'</span><span class="p">]);</span>
    <span class="c1">// --&gt; Ruby</span>
    <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">dist</span><span class="p">,</span> <span class="s1">'*/*.rb'</span><span class="p">),</span> <span class="p">[</span><span class="s1">'html'</span><span class="p">]);</span>
    <span class="c1">// --&gt; JS</span>
    <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">([</span><span class="nx">srcJavascripts</span><span class="o">+</span><span class="s2">"**/*.js"</span><span class="p">],</span> <span class="p">[</span><span class="s1">'html'</span><span class="p">]);</span>
<span class="p">});</span>
</code></pre>
</div>

<h3 id="make-buildsh-file-to-root">5. Make <code class="highlighter-rouge">build.sh</code> file to root</h3>

<p>This will execute <code class="highlighter-rouge">npm run build</code>, <code class="highlighter-rouge">gulp generate --production</code> and <code class="highlighter-rouge">htmlproofer ./public --disable-external --allow-hash-ref</code> command step by step and commits result to gh-pages branch.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c">#</span>
<span class="c">## only process script when started not by pull request (PR)</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$TRAVIS_PULL_REQUEST</span> <span class="o">==</span> <span class="s2">"true"</span> <span class="o">]</span>; <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"this is PR, exiting"</span>
  <span class="nb">exit </span>0
<span class="k">fi</span>

<span class="c"># enable error reporting to the console</span>
<span class="nb">set</span> -e

<span class="c"># build site with jekyll, by default to 'public' folder</span>
npm run build
gulp generate --production
htmlproofer ./public --disable-external --allow-hash-href

<span class="c"># cleanup</span>
rm -rf ../blog.zemna.net.gh-pages

<span class="c"># clone 'gh-pages' branch of the repository using encrypted GH_TOKEN for authentification</span>
git clone -b gh-pages https://<span class="k">${</span><span class="nv">GH_TOKEN</span><span class="k">}</span>@github.com/zemna/blog.git ../blog.zemna.net.gh-pages

<span class="c"># copy generated HTML site to 'gh-pages' branch</span>
cp -R public/<span class="k">*</span> ../blog.zemna.net.gh-pages

<span class="c"># commit and push generated content to 'gh-pages' branch</span>
<span class="c"># since repository was cloned in write mode with token auth - we can push there</span>
<span class="nb">cd</span> ../blog.zemna.net.gh-pages
git config user.email <span class="s2">"zemna@zemna.net"</span>
git config user.name <span class="s2">"zemna"</span>
git add -A .
git commit -a -m <span class="s2">"Travis #</span><span class="nv">$TRAVIS_BUILD_NUMBER</span><span class="s2">"</span>
git push --quiet origin gh-pages &gt; /dev/null 2&gt;&amp;1
</code></pre>
</div>

<h3 id="exclude-files-or-folders-from-jekyll-build-process">6. Exclude file(s) or folder(s) from Jekyll build process</h3>

<p>Add necessary file(s) or folder(s) to _config.yml file like bellow. Those files will not be built by Jekyll.</p>

<div class="language-yml highlighter-rouge"><pre class="highlight"><code><span class="s">exclude</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">lib</span>
  <span class="pi">-</span> <span class="s">Gemfile</span>
  <span class="pi">-</span> <span class="s">Gemfile.lock</span>
  <span class="pi">-</span> <span class="s">node_modules</span>
  <span class="pi">-</span> <span class="s">bower.json</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">*.sh"</span>
  <span class="pi">-</span> <span class="s">README.md</span>
  <span class="pi">-</span> <span class="s">gulffile.js</span>
  <span class="pi">-</span> <span class="s">package.json</span>
</code></pre>
</div>

<h3 id="conclusion">7. Conclusion</h3>

<p>You can see running example by <a href="https://github.com/zemna/blog">https://github.com/zemna/blog</a> repository.</p>

        </div>

        
      </article>
      
      <article class="box">
        <div class="box-header">
          <h2>
            <a href="/laravel/troubleshooting-after-update-to-homestead-0-5-0/">Troubleshooting after update to Homestead 0.5.0</a>
          </h2>
          <p class="box-meta text-muted">
            <span>
              <i class="fa fa-calendar"></i>
              2016-07-04
            </span>
            <span>
              <i class="fa fa-folder"></i>
              
                <a href="/categories#laravel">
                  Laravel
                </a>
                
              
            </span>
            <span>
              <i class="fa fa-comments"></i>
              <a href="/laravel/troubleshooting-after-update-to-homestead-0-5-0/#disqus_thread" title="comments">0</a>
            </span>
          </p>
        </div>

        <div class="box-body">
          <h3 id="error-1">Error 1</h3>

<p><code class="highlighter-rouge">Maximum call stack size exceeded</code> error</p>

<h4 id="solution">Solution</h4>

<p>Update npm using <code class="highlighter-rouge">sudo npm i npm -g</code> command.</p>

<h3 id="error-2">Error 2</h3>

<p><code class="highlighter-rouge">ENOENT: no such file or directory, scandir '/home/vagrant/app-name/node_modules/node-sass/vendor'</code> error</p>

<h4 id="solution-1">Solution</h4>

<p>Execute <code class="highlighter-rouge">npm rebuild node-sass --no-bin-links</code> command. (<a href="http://laravel.io/forum/10-29-2014-laravel-elixir-sass-error#reply-18818">Reference</a>)</p>

        </div>

        
      </article>
      
      <article class="box">
        <div class="box-header">
          <h2>
            <a href="/laravel/some-tips-when-using-entrust-in-laravel/">Some Tips when using Entrust in Laravel</a>
          </h2>
          <p class="box-meta text-muted">
            <span>
              <i class="fa fa-calendar"></i>
              2016-06-24
            </span>
            <span>
              <i class="fa fa-folder"></i>
              
                <a href="/categories#laravel">
                  Laravel
                </a>
                
              
            </span>
            <span>
              <i class="fa fa-comments"></i>
              <a href="/laravel/some-tips-when-using-entrust-in-laravel/#disqus_thread" title="comments">0</a>
            </span>
          </p>
        </div>

        <div class="box-body">
          <p>I got the problem when using <code class="highlighter-rouge">bican/roles</code> Role module in my Laravel project.</p>

<p>There is an error when I check permission.</p>

<p>So I decided to move <code class="highlighter-rouge">zizaco/entrust</code> and tested all features working normal.</p>

<h2 id="how-to-install-entrust">How to install Entrust</h2>

<h4 id="install-use-composer">Install use composer</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>composer require zizaco/entrust:5.2.x-dev
</code></pre>
</div>

<h4 id="setting-to-configappphp">Setting to <code class="highlighter-rouge">config/app.php</code></h4>

<p>Add bellow line to <code class="highlighter-rouge">providers</code> array in <code class="highlighter-rouge">config/app.php</code>.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code>    Zizaco\Entrust\EntrustServiceProvider::class,
</code></pre>
</div>

<p>Add bellow line to <code class="highlighter-rouge">aliases</code> array in <code class="highlighter-rouge">config/app.php</code>.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code>    'Entrust' =&gt; Zizaco\Entrust\EntrustFacade::class,
</code></pre>
</div>

<h4 id="setting-to-apphttpkernalphp">Setting to <code class="highlighter-rouge">app/Http/Kernal.php</code></h4>

<p>Add bellow lines to <code class="highlighter-rouge">routeMiddleware</code> array in <code class="highlighter-rouge">app/Http/Kernal.php</code>.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code>    'role' =&gt; \Zizaco\Entrust\Middleware\EntrustRole::class,
    'permission' =&gt; \Zizaco\Entrust\Middleware\EntrustPermission::class,
    'ability' =&gt; \Zizaco\Entrust\Middleware\EntrustAbility::class,
</code></pre>
</div>

<h4 id="publish-entrustphp-file">Publish <code class="highlighter-rouge">entrust.php</code> file</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>php artisan vendor:publish
</code></pre>
</div>

<h2 id="database-setup">Database Setup</h2>

<h4 id="generate-entrust-migration">Generate Entrust migration</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>php artisan entrust:migration
</code></pre>
</div>

<p>It will generate the <code class="highlighter-rouge">&lt;timestamp&gt;_entrust_setup_tables.php</code> migration.</p>

<p>Execute migration</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>php artisan migrate
</code></pre>
</div>

<h2 id="trouble-shootings">Trouble shootings</h2>

<h4 id="error-when-execute-migration">Error when execute migration</h4>

<p>After create <code class="highlighter-rouge">&lt;timestamp&gt;_entrust_setup_tables.php</code>, you have to write your users table in this file. Open <code class="highlighter-rouge">&lt;timestamp&gt;_entrust_setup_tables.php</code> file and write name of users table to <code class="highlighter-rouge">28 line</code>.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code>    $table-&gt;foreign('user_id')-&gt;references('id')-&gt;on('users')
        -&gt;onUpdate('cascade')-&gt;onDelete('cascade');
</code></pre>
</div>

<h4 id="this-cache-store-does-not-support-tagging">This cache store does not support tagging</h4>

<p>Set <code class="highlighter-rouge">CACHE_DRIVER=array</code> in <code class="highlighter-rouge">.env</code> file.</p>

<ul>
  <li><a href="https://github.com/Zizaco/entrust/issues/541">https://github.com/Zizaco/entrust/issues/541</a></li>
</ul>

<h4 id="error-when-delete-role">Error when delete role</h4>

<p>In Laravel 5.2, error is occured when delete role. Because Entrust get User class using <code class="highlighter-rouge">Config::get('auth.model')</code>.</p>

<p>EntrustRoleTrait.php file</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code>    /**
     * Many-to-Many relations with the user model.
     *
     * @return \Illuminate\Database\Eloquent\Relations\BelongsToMany
     */
    public function users()
    {
        return $this-&gt;belongsToMany(Config::get('auth.model'), Config::get('entrust.role_user_table'),Config::get('entrust.role_foreign_key'),Config::get('entrust.user_foreign_key'));
       // return $this-&gt;belongsToMany(Config::get('auth.model'), Config::get('entrust.role_user_table'));
    }
</code></pre>
</div>

<p>So We have to return right user model by that position. There are two solutions for this.</p>

<h5 id="change-entrustroletraitphp-file-to-use-correct-configuration-value">1. Change EntrustRoleTrait.php file to use correct configuration value.</h5>

<p>We can change <code class="highlighter-rouge">Config::get('auth.model')</code> to <code class="highlighter-rouge">Config::get('auth.providers.users.model')</code>. Laravel 5.2 already have users model information in that position.</p>

<h5 id="add-authmodel-value-to-configauthphp-file">2. Add <code class="highlighter-rouge">auth.model</code> value to config/auth.php file</h5>

<p>We can also add new value to config/auth.php file to allow Entrust get rights value.</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code>return [
  ...

  /**
   * Add this configuration for Entrust
   */
  'model' =&gt; App\User::class,
];
</code></pre>
</div>

        </div>

        
      </article>
      
      <article class="box">
        <div class="box-header">
          <h2>
            <a href="/laravel/class-memcached-not-found-error-in-laravel/">Class memcached not found error in Laravel</a>
          </h2>
          <p class="box-meta text-muted">
            <span>
              <i class="fa fa-calendar"></i>
              2016-06-24
            </span>
            <span>
              <i class="fa fa-folder"></i>
              
                <a href="/categories#laravel">
                  Laravel
                </a>
                
              
            </span>
            <span>
              <i class="fa fa-comments"></i>
              <a href="/laravel/class-memcached-not-found-error-in-laravel/#disqus_thread" title="comments">0</a>
            </span>
          </p>
        </div>

        <div class="box-body">
          <p>If you got bellow error when use memcached in Laravel, please check following steps.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>exception <span class="s1">'Symfony\Component\Debug\Exception\FatalErrorException'</span> with message <span class="s1">'Class '</span>Memcached<span class="s1">' not found'</span> <span class="k">in</span> /var/www/gw/vendor/laravel/framework/src/Illuminate/Cache/MemcachedConnector.php:51
</code></pre>
</div>

<h4 id="install-memcached">Install memcached</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>sudo apt-get install php5-memcached memcached
</code></pre>
</div>

<p>Enabled php5-memcached</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>sudo php5enmod memcached
</code></pre>
</div>

<p>Restart apache web server</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>sudo service apache2 restart
</code></pre>
</div>

<h4 id="check-memcached-service-status">Check memcached service status</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>sudo service memcached status
</code></pre>
</div>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="k">*</span> memcached is running
</code></pre>
</div>

<h4 id="clear-cache">Clear cache</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>php artisan cache:clear
</code></pre>
</div>

        </div>

        
      </article>
      

      <nav id="pagination">
        <ul class="pager">
          
          <li class="previous">
            <a href="/page3/">
              <span aria-hidden="true">
                <i class="fa fa-chevron-left"></i>
              </span>
              Older
            </a>
          </li>
          

          
          <li class="next">
            <a href="/">
              Newer
              <span aria-hidden="true">
                <i class="fa fa-chevron-right"></i>
              </span>
            </a>
          </li>
          
        </ul>
      </nav>
    </section>

    <aside id="sidebar" class="col-md-3">
      <form action="/search" method="GET" class="m-b">
  <div class="input-group">
    <input class="form-control input-sm" type="text" id="q" name="q" placeholder="Search...">
    <span class="input-group-btn">
      <button class="btn btn-default btn-sm" type="submit"><i class="fa fa-search"></i></button>
    </span>
  </div>
</form>

<section class="text-center m-b">
  <!-- blog.zemna.net-sidebar -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:250px;height:250px"
       data-ad-client="ca-pub-9370920245187676"
       data-ad-slot="4747459618"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</section>

<section class="panel panel-default" id="categories">
  <div class="panel-heading">
    <h1 class="panel-title">Categories</h1>
  </div>
  <div class="list-group">
    
      
      <a href="/categories#programming" class="list-group-item">
        <span class="badge">8</span>
        
        Programming
      </a>
    
      
      <a href="/categories#erp" class="list-group-item">
        <span class="badge">1</span>
        
        ERP
      </a>
    
      
      <a href="/categories#jekyll" class="list-group-item">
        <span class="badge">2</span>
        
        Jekyll
      </a>
    
      
      <a href="/categories#web" class="list-group-item">
        <span class="badge">3</span>
        
        Web
      </a>
    
      
      <a href="/categories#laravel" class="list-group-item">
        <span class="badge">9</span>
        
        Laravel
      </a>
    
      
      <a href="/categories#javascript" class="list-group-item">
        <span class="badge">1</span>
        
        JavaScript
      </a>
    
  </div>
</section>

<section class="panel panel-default" id="tags">
  <div class="panel-heading">
    <h1 class="panel-title">Tags</h1>
  </div>

  <div class="panel-body tags">
    <div class="tags">
    
    
    <span style="font-size: 94%">
      <a href="/tags#bitbucket">
        bitbucket
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#bootstrap">
        bootstrap
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#composer">
        composer
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#deployment">
        deployment
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#dropdown">
        dropdown
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#entrust">
        entrust
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#erp">
        erp
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#erpnext">
        erpnext
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#freetds">
        freetds
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#github">
        github
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#github-pages">
        github-pages
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#gulp">
        gulp
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#homestead">
        homestead
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#javascript">
        javascript
      </a>
    </span>
    
    <span style="font-size: 118%">
      <a href="/tags#jekyll">
        jekyll
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#jira">
        jira
      </a>
    </span>
    
    <span style="font-size: 126%">
      <a href="/tags#laravel">
        laravel
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#lightbox">
        lightbox
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#memcached">
        memcached
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#migration">
        migration
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#notification">
        notification
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#orbit">
        orbit
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#php">
        php
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#pivot">
        pivot
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#programming">
        programming
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#resume">
        resume
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#rocketchat">
        rocketchat
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#select2">
        select2
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#social">
        social
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#theme">
        theme
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#timestamp">
        timestamp
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#travis-ci">
        travis-ci
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#unique">
        unique
      </a>
    </span>
    
    <span style="font-size: 94%">
      <a href="/tags#validation">
        validation
      </a>
    </span>
    
    <span style="font-size: 98%">
      <a href="/tags#web">
        web
      </a>
    </span>
    
    </div>
  </div>
</section>

<div class="m-b">
  <!-- Facebook Page -->
  <div class="fb-page" data-href="https://www.facebook.com/ZemnaBlog" data-tabs="timeline,events,messages" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"><blockquote cite="https://www.facebook.com/ZemnaBlog" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/ZemnaBlog">Zemna Blog</a></blockquote></div>
</div>

<section class="panel panel-default panel-posts" id="recent-posts">
  <div class="panel-heading">
    <h1 class="panel-title">Recent Posts</h1>
  </div>
  <div class="panel-body">
    <ul class="post-list">
      
      <li class="post-item">
        <h4>
          <small class="box-meta"><i class="fa fa-calendar"></i> 2016-07-16</small>
          <a href="/programming/php-tutorial-to-send-notification-message-to-rocket-chat-server/">PHP Tutorial to Send Direct Message to Rocket.Chat User</a>
        </h4>
      </li>
      
      <li class="post-item">
        <h4>
          <small class="box-meta"><i class="fa fa-calendar"></i> 2016-07-15</small>
          <a href="/web/how-to-integrate-jira-and-bitbucket-application-with-rocket-chat/">How to integrate JIRA and BitBucket application with Rocket.Chat</a>
        </h4>
      </li>
      
      <li class="post-item">
        <h4>
          <small class="box-meta"><i class="fa fa-calendar"></i> 2016-07-12</small>
          <a href="/laravel/complex-unique-validation-rule-in-laravel/">Complex unique validation rule in Laravel</a>
        </h4>
      </li>
      
    </ul>
  </div>
</section>

<section class="panel panel-default" id="recent-comments">
  <div class="panel-heading">
    <h1 class="panel-title">Recent Comments</h1>
  </div>

  <div class="panel-body dsq-widget">
    <script type="text/javascript" src="//zemnanetblog.disqus.com/recent_comments_widget.js?num_items=5&hide_mods=0&hide_avatars=0&avatar_size=32&excerpt_length=100"></script>
  </div>
</section>

<!-- blog.zemna.net, sidebar, responsive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9370920245187676"
     data-ad-slot="9024649610"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
    </aside>
  </div>
</div>


  <div class="container">
  <div class="panel panel-default">
    <div class="panel-body">
      <div id="mc_embed_signup">
      <form action="//zemna.us13.list-manage.com/subscribe/post?u=bb48a1d4adcc85d14fb3a6d17&amp;id=94e407e19b" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
          <div id="mc_embed_signup_scroll">
        <label for="mce-EMAIL">Subscribe to our mailing list</label>
        <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
          <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
          <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_bb48a1d4adcc85d14fb3a6d17_94e407e19b" tabindex="-1" value=""></div>
          <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
          </div>
      </form>
      </div>
    </div>
  </div>
</div>
<!--End mc_embed_signup-->

  <footer class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-7">
        <ul class="list-inline social-links">
          <li><a href="https://github.com/zemna"><i class="fa fa-lg fa-github"></i></a></li>
          <li><a href="https://www.facebook.com/zemnanet"><i class="fa fa-lg fa-facebook"></i></a></li>
          <li><a href="https://www.twitter.com/zemna"><i class="fa fa-lg fa-twitter"></i></a></li>
          <li><a href="https://plus.google.com/+ShinjaeKang"><i class="fa fa-lg fa-google-plus"></i></a></li>
          <li><a href="https://id.linkedin.com/in/zemna"><i class="fa fa-lg fa-linkedin"></i></a></li>
        </ul>
        <p>
          &copy; 2016 zemna. Powered by <a href="https://jekyllrb.com/">Jekyll.</a>
          <a href="/feed.xml">Rss</a>
        </p>
      </div>
      <div class="pull-right">
        <p>Proudly hosted by <a href="https://github.com"><img src="/assets/img/github-logo.png" width="100" alt="Github"></a>
        </p>
      </div>
    </div>
  </div>
</footer>

  <div id="back-to-top">
    <a href="#" title="Scroll to Top">
      <i class="fa fa-chevron-up"></i>
    </a>
  </div>

  <!-- facebook SDK -->
  <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=632837843538038";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>
  <!-- +1 button -->
  <script type="text/javascript">
    (function() {
      var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
      po.src = 'https://apis.google.com/js/platform.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
  </script>
  <script id="dsq-count-scr" src="//zemnanetblog.disqus.com/count.js" async></script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-58080837-1', 'auto');
    ga('send', 'pageview');
  </script>  
  <script src="/assets/js/blog.min.js"></script>
</body>

</html>
